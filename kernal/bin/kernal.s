;
; File generated by cc65 v 2.18 - Git ece63f0
;
	.fopt		compiler,"cc65 v 2.18 - Git ece63f0"
	.setcpu		"65C02"
	.smart		on
	.autoimport	on
	.case		on
	.debuginfo	off
	.importzp	sp, sreg, regsave, regbank
	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
	.macpack	longbranch
	.export		_cursor_index
	.export		_s
	.export		_i
	.export		_putc
	.export		_puts
	.export		_set_fg
	.export		_set_bg
	.export		_NMI_HANDLER
	.export		_IRQ_HANDLER
	.export		__main

.segment	"DATA"

_cursor_index:
	.word	$0000
_s:
	.addr	L0002

.segment	"RODATA"

L0002:
	.byte	$48,$65,$6C,$6C,$6F,$20,$57,$6F,$72,$6C,$64,$00

.segment	"BSS"

_i:
	.res	2,$00

; ---------------------------------------------------------------
; void __near__ putc (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_putc: near

.segment	"CODE"

	jsr     pusha
	lda     _cursor_index+1
	sta     $BD80+1
	lda     _cursor_index
	sta     $BD80
	lda     #$03
	sta     $BD82
	lda     (sp)
	sta     $BD83
	lda     #$C0
	sta     $BD84
	lda     _cursor_index
	ldx     _cursor_index+1
	ina
	bne     L0012
	inx
L0012:	sta     _cursor_index
	stx     _cursor_index+1
	jmp     incsp1

.endproc

; ---------------------------------------------------------------
; void __near__ puts (__near__ unsigned char *)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_puts: near

.segment	"CODE"

	jsr     pushax
	jsr     push0
	bra     L0017
L0015:	ldy     #$05
	jsr     pushwysp
	ldy     #$03
	lda     (sp),y
	tax
	dey
	lda     (sp),y
	sta     regsave
	stx     regsave+1
	ina
	bne     L001D
	inx
L001D:	jsr     staxysp
	lda     regsave
	ldx     regsave+1
	jsr     tosaddax
	sta     ptr1
	stx     ptr1+1
	lda     (ptr1)
	jsr     _putc
L0017:	ldy     #$02
	lda     (sp),y
	clc
	adc     (sp)
	sta     ptr1
	iny
	lda     (sp),y
	ldy     #$01
	adc     (sp),y
	sta     ptr1+1
	lda     (ptr1)
	bne     L0015
	jmp     incsp4

.endproc

; ---------------------------------------------------------------
; void __near__ set_fg (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_set_fg: near

.segment	"CODE"

	jsr     pusha
	lda     (sp)
	sta     $BD85
	jmp     incsp1

.endproc

; ---------------------------------------------------------------
; void __near__ set_bg (unsigned char)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_set_bg: near

.segment	"CODE"

	jsr     pusha
	lda     (sp)
	sta     $BD86
	jmp     incsp1

.endproc

; ---------------------------------------------------------------
; void __near__ NMI_HANDLER (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_NMI_HANDLER: near

.segment	"CODE"

	rts

.endproc

; ---------------------------------------------------------------
; void __near__ IRQ_HANDLER (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_IRQ_HANDLER: near

.segment	"CODE"

	rts

.endproc

; ---------------------------------------------------------------
; void __near__ _main (void)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	__main: near

.segment	"CODE"

	lda     #$FF
	jsr     _set_fg
	lda     #$41
	jsr     _putc
	lda     #$03
	jsr     _set_fg
	lda     #$41
	jsr     _putc
	lda     #$FF
	jsr     _set_fg
	stz     _i
	stz     _i+1
L0033:	lda     _i
	cmp     #$0A
	lda     _i+1
	sbc     #$00
	bvc     L003A
	eor     #$80
L003A:	bpl     L0034
	lda     _s
	clc
	adc     _i
	sta     ptr1
	lda     _s+1
	adc     _i+1
	sta     ptr1+1
	lda     (ptr1)
	jsr     _putc
	lda     _i
	ldx     _i+1
	ina
	bne     L003C
	inx
L003C:	sta     _i
	stx     _i+1
	bra     L0033
L0034:	lda     _i
	clc
	adc     #$41
	jsr     _putc
L0045:	bra     L0045

.endproc

